<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Rough</title>
</head>
<body>
    <div id="container"></div>
    <br>
    <div>
    <button id="generate">Generate</button>
    </div>

    <script>
        var count = 0;
        document.getElementById('generate').onclick = function() {
        count = count + 1;
    var values = {{genres|safe}};
    values.forEach(myFunction);

    function myFunction(value, index, array) {
        value = value.replace(/'/g, '"');
    }
    var select = document.createElement("select");
    select.name = "pets";
    select.id = "pets"

    for (const val of values)
    {
        var option = document.createElement("option");
        option.value = val;
        option.text = val.charAt(0).toUpperCase() + val.slice(1);
        select.appendChild(option);
    }

    var label = document.createElement("label");
    label.innerHTML = "Choose your pets: "
    label.htmlFor = "pets";

    document.getElementById("container").appendChild(label).appendChild(select);
    if(count > 2){
        document.getElementById('generate').disabled = true;
    }
console.log(count);
}



    </script>
</body>
</html>